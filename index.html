<script>eval(atob('CiAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgZCA9IGRvY3VtZW50OwogICAgICAgICAgICB2YXIgdyA9IHdpbmRvdzsKICAgICAgICAgICAgdmFyIHRhbXBlckRldGVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIHZhciByZWFsQ29udGVudFJlbmRlcmVkID0gZmFsc2U7CgogICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVUYW1wZXIoaXNEZXZUb29scykgewogICAgICAgICAgICAgICAgaWYgKHRhbXBlckRldGVjdGVkKSByZXR1cm47CiAgICAgICAgICAgICAgICB0YW1wZXJEZXRlY3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGQuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb21CNjQgPSBmdW5jdGlvbihzKXsgdHJ5IHsgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUody5hdG9iKHMpKSk7IH0gY2F0Y2goZSl7IHJldHVybiAnJzsgfSB9OwogICAgICAgICAgICAgICAgICAgICAgICBkLmJvZHkuaW5uZXJIVE1MID0gZnJvbUI2NCgnQ2lBZ0lDQWdJQ0FnUEdScGRpQnpkSGxzWlQwaVptOXVkQzFtWVcxcGJIazZJRzF2Ym05emNHRmpaVHNnWTI5c2IzSTZJQ05HUmpaQ05rSTdJR0poWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ014WVRGaE1XRTdJSEJoWkdScGJtYzZJREp5WlcwN0lHSnZjbVJsY2kxeVlXUnBkWE02SURod2VEc2diV0Z5WjJsdU9pQXljbVZ0T3lJK0NpQWdJQ0FnSUNBZ0lDQWdJRHhvTWlCemRIbHNaVDBpWTI5c2IzSTZJQ05HUmpaQ05rSTdJR0p2Y21SbGNpMWliM1IwYjIwNklERndlQ0J6YjJ4cFpDQWpSa1kyUWpaQ095QndZV1JrYVc1bkxXSnZkSFJ2YlRvZ01YSmxiVHNpUGx0VFExSkpVRlJmUlZKU1QxSmRQQzlvTWo0S0lDQWdJQ0FnSUNBZ0lDQWdQSEErUEhOMGNtOXVaejVHWVhSaGJDQkZlR05sY0hScGIyNDZQQzl6ZEhKdmJtYytJRVY0WldOMWRHbHZiaUJqYjI1MFpYaDBJR052YlhCeWIyMXBjMlZrTGp3dmNENEtJQ0FnSUNBZ0lDQWdJQ0FnUEhBK1BITjBjbTl1Wno1RGIyUmxPand2YzNSeWIyNW5QaUF3ZUVSRlFVUkNSVVZHUEM5d1Bnb2dJQ0FnSUNBZ0lDQWdJQ0E4Y0Q0OGMzUnliMjVuUGxKbFlYTnZiam84TDNOMGNtOXVaejRnUVNCelpXTjFjbWwwZVNCd2IyeHBZM2tnZG1sdmJHRjBhVzl1SUdoaGN5QmlaV1Z1SUdSbGRHVmpkR1ZrTGlCVWFHVWdaWGhsWTNWMGFXOXVJR1Z1ZG1seWIyNXRaVzUwSUdoaGN5QmlaV1Z1SUdOdmJuUmhiV2x1WVhSbFpDd2diR2xyWld4NUlHUjFaU0IwYnlCMWJtRjFkR2h2Y21sNlpXUWdhVzV6Y0dWamRHbHZiaUJ2Y2lCMFlXMXdaWEpwYm1jdUlFRnNiQ0JtZFhKMGFHVnlJSE5qY21sd2RDQmxlR1ZqZFhScGIyNGdhR0Z6SUdKbFpXNGdhR0ZzZEdWa0lIUnZJSEJ5YjNSbFkzUWdaR0YwWVNCcGJuUmxaM0pwZEhrdVBDOXdQZ29nSUNBZ0lDQWdJQ0FnSUNBOGNENDhaVzArVUd4bFlYTmxJR05zYjNObElIUm9hWE1nYVc1emNHVmpkR2x2YmlCMGIyOXNJR0Z1WkNCeVpXeHZZV1FnZEdobElIQmhaMlV1UEM5bGJUNDhMM0ErQ2lBZ0lDQWdJQ0FnUEM5a2FYWStDaUFnSUNBPScpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgZC5ib2R5LmlubmVySFRNTCA9ICc8aDE+RXJyb3I6IFRhbXBlcmluZyBEZXRlY3RlZDwvaDE+JzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIHJ1bigpIHsKICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHZhciBtYXRoUmVzdWx0ID0gNzgyOwogICAgICAgICAgICAgICAgICAgIHZhciBzYWx0ID0gJzdtcTJoMWdtNTBhJzsKICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGFydDEgPSBTdHJpbmcobWF0aFJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2hGbiA9IChzdHIpPT57CiAgICBsZXQgaGFzaCA9IDA7CiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7CiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKXsKICAgICAgICBjb25zdCBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7CiAgICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7CiAgICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXIKICAgIH0KICAgIHJldHVybiBoYXNoOwp9OwogICAgICAgICAgICAgICAgICAgIHZhciBjYWxjdWxhdGVkS2V5ID0gaGFzaEZuKGtleVBhcnQxICsgc2FsdCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IFN0cmluZyhjYWxjdWxhdGVkS2V5KTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGZyb21CNjQgPSBmdW5jdGlvbihzKXsgdHJ5IHsgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUody5hdG9iKHMpKSk7IH0gY2F0Y2goZSl7IHJldHVybiAnJzsgfSB9OwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHZhciBkZWNyeXB0ZWQgPSBmcm9tQjY0KCdIQWtFR2dVREhRWUNIUmtCR0E4QUh3a0pIZ1llRlFJSCcpLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24oY2hhciwgaSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyLmNoYXJDb2RlQXQoMCkgXiBrZXkuY2hhckNvZGVBdChpICUga2V5Lmxlbmd0aCkpOwogICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJycpOwoKICAgICAgICAgICAgICAgICAgICBkZWNyeXB0ZWQgPSBkZWNyeXB0ZWQuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24oYyl7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGMpKTsgfSkuam9pbignJyk7CiAgICAgICAgICAgICAgICAgICAgZGVjcnlwdGVkID0gZnJvbUI2NChkZWNyeXB0ZWQpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoKHRydWUgJiYgZGVjcnlwdGVkICYmIGhhc2hGbihkZWNyeXB0ZWQpICE9PSAxMTI5MDM0NDcpIHx8ICghZGVjcnlwdGVkICYmIHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGFtcGVyKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJlYWxDb250ZW50UmVuZGVyZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGQub3BlbigpOwogICAgICAgICAgICAgICAgICAgIGQud3JpdGUoZGVjcnlwdGVkKTsKICAgICAgICAgICAgICAgICAgICBkLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZVRhbXBlcihmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSAxNjA7CiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tEZXZUb29scygpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdnZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kIC0gc3RhcnQgPiB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlYWxDb250ZW50UmVuZGVyZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUYW1wZXIodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0RldlRvb2xzKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluaXRpYWwgY2hlY2sgYmVmb3JlIGFueXRoaW5nIHJ1bnMKICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRhbXBlcih0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpeyBjaGVja0RldlRvb2xzKCk7IH0sIDEwMDApOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBpZiAodGFtcGVyRGV0ZWN0ZWQpIHJldHVybjsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcnVuKCk7CiAgICAgICAgICAgIAogICAgICAgIH0pKCk7CiAgICA='))</script>
